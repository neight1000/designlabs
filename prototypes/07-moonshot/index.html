<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moonshot Arcade</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: 'Roboto Mono', monospace;
    overflow: hidden;
  }
  #gameCanvas {
    display: block;
    margin: 0 auto;
    background: #111;
    border: 1px solid #fff;
  }
  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 18px;
  }
</style>
</head>
<body>

<div id="score">Score: 0</div>
<canvas id="gameCanvas" width="600" height="800"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let player = { x: 280, y: 750, width: 40, height: 20, speed: 5 };
let bullets = [];
let enemies = [];
let score = 0;

function spawnEnemies() {
  enemies = [];
  for (let i = 0; i < 6; i++) {
    for (let j = 0; j < 4; j++) {
      enemies.push({ x: 60 + i * 80, y: 60 + j * 60, width: 40, height: 20, alive: true });
    }
  }
}

function drawPlayer() {
  ctx.fillStyle = '#0f0';
  ctx.fillRect(player.x, player.y, player.width, player.height);
}

function drawBullets() {
  ctx.fillStyle = '#fff';
  bullets.forEach(b => ctx.fillRect(b.x, b.y, 4, 10));
}

function drawEnemies() {
  ctx.fillStyle = '#f00';
  enemies.forEach(e => {
    if (e.alive) ctx.fillRect(e.x, e.y, e.width, e.height);
  });
}

function updateBullets() {
  bullets = bullets.filter(b => b.y > 0);
  bullets.forEach(b => b.y -= 7);
}

function checkCollisions() {
  bullets.forEach(b => {
    enemies.forEach(e => {
      if (e.alive && b.x < e.x + e.width && b.x + 4 > e.x && b.y < e.y + e.height && b.y + 10 > e.y) {
        e.alive = false;
        b.y = -10;
        score += 10;
        document.getElementById('score').innerText = 'Score: ' + score;
      }
    });
  });
}

function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawPlayer();
  drawBullets();
  drawEnemies();
  updateBullets();
  checkCollisions();
  requestAnimationFrame(gameLoop);
}

spawnEnemies();
gameLoop();

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowLeft' && player.x > 0) player.x -= player.speed;
  if (e.key === 'ArrowRight' && player.x < canvas.width - player.width) player.x += player.speed;
  if (e.key === ' ' || e.key === 'Spacebar') {
    bullets.push({ x: player.x + player.width / 2 - 2, y: player.y });
  }
});
</script>

</body>
</html>
